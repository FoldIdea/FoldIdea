<%= form_for(@base_unit) do |f| %>
  <% if @base_unit.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@base_unit.errors.count, "error") %> prohibited this base_unit from being saved:</h2>

      <ul>
      <% @base_unit.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

	<div class="measure_grid">
		<div class="mg_axes">Measure Base Here</div>
		<ul class="mg_ylabels">
            <%- top = 0 -%>
			<%- 60.step(0, -10).each do |lbl| -%>
				<li style="top: <%= top %>mm;"><%= lbl %></li>
                <%- top += 10 -%>
			<%- end -%>
		</ul>
		<ul class="mg_yaxis">
            <%- top = 0 -%>
			<%- 60.downto(0).each do |idx| -%>
				<li class="<%= (idx % 10 == 0) ? 'ten' : ( (idx % 5 == 0 ? 'five' : 'one') ) %>" style="top: <%= top %>mm;">&nbsp;</li>
                <%- top += 1 -%>
			<%- end -%>
		</ul>
		<ul class="mg_xaxis">
			<%- 0.upto(60).each do |idx| -%>
				<li class="<%= (idx % 10 == 0) ? 'ten' : ( (idx % 5 == 0 ? 'five' : 'one') )%>" style="left: <%= idx %>mm;">&nbsp;</li>
			<%- end -%>
		</ul>
		<ul class="mg_xlabels">
			<%- 0.step(60, 10).each do |lbl| -%>
				<li style="left: <%= lbl %>mm;"><%= lbl %></li>
			<%- end -%>
		</ul>
	</div>

  <div class="field">
    <%= f.label :name %><br>
    <%= f.text_field :name %>
  </div>
  <div class="field">
    <%= f.label :base_width %><br>
    <%= f.number_field :base_width, min: 1 %> mm
  </div>
  <div class="field">
    <%= f.label :base_length %><br>
    <%= f.number_field :base_length, min: 1 %> mm
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
